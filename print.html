<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The OpenRA Book</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="index.html">Introduction</a></li><li class="affix"><a href="terminology.html">Terminology</a></li><li><a href="playing/index.html"><strong aria-hidden="true">1.</strong> Playing</a></li><li><ol class="section"><li><a href="playing/installing.html"><strong aria-hidden="true">1.1.</strong> Installing OpenRA</a></li></ol></li><li><a href="modding/index.html"><strong aria-hidden="true">2.</strong> Modding</a></li><li><ol class="section"><li><a href="modding/getting-started/index.html"><strong aria-hidden="true">2.1.</strong> Getting Started</a></li><li><ol class="section"><li><a href="modding/getting-started/cloning.html"><strong aria-hidden="true">2.1.1.</strong> Clone The Source Code</a></li><li><a href="modding/getting-started/run-ra.html"><strong aria-hidden="true">2.1.2.</strong> Run The Red Alert Mod</a></li></ol></li><li><a href="modding/miniyaml/index.html"><strong aria-hidden="true">2.2.</strong> MiniYaml</a></li><li><ol class="section"><li><a href="modding/miniyaml/syntax.html"><strong aria-hidden="true">2.2.1.</strong> Syntax Basics</a></li><li><a href="modding/miniyaml/example.html"><strong aria-hidden="true">2.2.2.</strong> A Real-World Example</a></li></ol></li><li><a href="modding/map-making/index.html"><strong aria-hidden="true">2.3.</strong> Map Making</a></li><li><ol class="section"><li><a href="modding/map-making/editor.html"><strong aria-hidden="true">2.3.1.</strong> Map Editor 101</a></li><li><a href="modding/map-making/scripting.html"><strong aria-hidden="true">2.3.2.</strong> Map Scripting 101</a></li></ol></li><li><a href="modding/campaigns/index.html"><strong aria-hidden="true">2.4.</strong> Campaign Creation</a></li><li><ol class="section"><li><a href="modding/campaigns/what-isnt-yet-possible.html"><strong aria-hidden="true">2.4.1.</strong> What Isn't Yet Possible</a></li></ol></li><li><a href="modding/utility/index.html"><strong aria-hidden="true">2.5.</strong> Utility</a></li><li><ol class="section"><li><a href="modding/utility/linting.html"><strong aria-hidden="true">2.5.1.</strong> Mod &amp; Map Linting</a></li></ol></li></ol></li><li><a href="developing/index.html"><strong aria-hidden="true">3.</strong> Developing</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">The OpenRA Book</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#introduction" id="introduction"><h1>Introduction</h1></a>
<p>Welcome to <em>The <a href="https://www.openra.net">OpenRA</a> Book</em>!</p>
<p>OpenRA is an <a href="https://en.wikipedia.org/wiki/Real-time_strategy">RTS</a> <a href="https://en.wikipedia.org/wiki/Game_engine">game engine</a> that:</p>
<ul>
<li>is completely <a href="https://github.com/OpenRA/OpenRA">open-source</a> (GPLv3+)</li>
<li>is data-driven</li>
<li>is highly-configurable</li>
<li>is built entirely by volunteers</li>
<li>is implemented in <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)"><em>C#</em></a> on the
<a href="https://en.wikipedia.org/wiki/.NET_Framework"><em>.NET Framework</em></a></li>
<li>supports map scripting via <a href="https://en.wikipedia.org/wiki/Lua_(programming_language)"><em>Lua</em></a></li>
<li>implements the <a href="https://en.wikipedia.org/wiki/Entity_component_system">entity-component-system</a> architecture</li>
<li>auto-magically discovers <a href="./terminology.html#mod"><em>mod</em></a>s</li>
<li>includes the official mods: <a href="https://en.wikipedia.org/wiki/Command_%26_Conquer_(1995_video_game)">Tiberian Dawn</a>,
<a href="https://en.wikipedia.org/wiki/Command_%26_Conquer:_Red_Alert">Red Alert</a>, and <a href="https://en.wikipedia.org/wiki/Dune_2000">Dune 2000</a></li>
</ul>
<a class="header" href="#who-this-book-is-for" id="who-this-book-is-for"><h2>Who This Book Is For</h2></a>
<ul>
<li>Players</li>
<li>Modders / Game Makers</li>
<li>Developers</li>
</ul>
<a class="header" href="#assumptions-this-book-makes-about-you" id="assumptions-this-book-makes-about-you"><h2>Assumptions This Book Makes About You</h2></a>
<a class="header" href="#players" id="players"><h3>Players</h3></a>
<p>You have:</p>
<ul>
<li>played one of the above-listed games (or their sequels), or an RTS game in
general</li>
<li>the latest stable version of OpenRA installed</li>
<li>the original Red Alert assets (either a CD-ROM / ISO or you'll let OpenRA
install these for you)</li>
</ul>
<a class="header" href="#modders--game-makers--developers" id="modders--game-makers--developers"><h3>Modders / Game Makers &amp; Developers</h3></a>
<p>You are familiar and comfortable with:</p>
<ul>
<li>basic text editing</li>
<li>reading and writing <a href="https://en.wikipedia.org/wiki/C_Sharp_(programming_language)"><em>C#</em></a></li>
<li>using a terminal (such as <code>cmd.exe</code> on Windows, <code>Terminal.app</code> on macOS,
<code>Xterm</code>/<code>Konsole</code>/something else on GNU/Linux)</li>
<li><a href="https://git-scm.com/"><code>git</code></a></li>
</ul>
<a class="header" href="#how-to-read-this-book" id="how-to-read-this-book"><h2>How to Read This Book</h2></a>
<p>The current vision for this book is to have 3 sections, in the following order:</p>
<ul>
<li><a href="./playing/index.html">How to play</a></li>
<li><a href="./modding/index.html">How to make games / mods</a></li>
<li><a href="./developing/index.html">How to develop features / how the engine works</a></li>
</ul>
<p>In general, the book assumes that you're reading the section(s) relevant to you
in sequence from start to finish.</p>
<p>The section order is deliberate because knowing how to play the game is
important to being able to create games/mods that players want to play
and knowing, at a high-level, how game making / modding is done
will help you implement better, reusable, modder- and player-friendly
functionality.</p>
<p>Later chapters build on concepts in earlier chapters, and earlier chapters
might not delve into details on a topic; we typically revisit the topic in a
later chapter.</p>
<p>Truly there is no wrong way to read this book: if you want to skip ahead, go
for it! You may have to jump back to earlier chapters, or get help from the
community, if you experience confusion. But do whatever works for you.</p>
<p>You can dive in by reading <a href="./terminology.html">the terminology page</a>, then
<a href="./modding/getting-startedindex.html">the <em>Getting Started</em> chapter for modders</a> right
now!</p>
<a class="header" href="#community--social-media" id="community--social-media"><h2>Community &amp; Social Media</h2></a>
<ul>
<li>
<p><a href="https://discord.openra.net">Discord</a> - discuss modding, engine development, game
playing, etc.</p>
</li>
<li>
<p><a href="https://twitter.com/openra">Twitter</a> - @openra</p>
</li>
<li>
<p><a href="https://reddit.com/r/openra">Reddit</a> - /r/openra</p>
</li>
</ul>
<a class="header" href="#terminology" id="terminology"><h1>Terminology</h1></a>
<a class="header" href="#mod" id="mod"><h3>Mod</h3></a>
<p>The engine has a concept called &quot;mod&quot;s which are, essentially, a collection of
<a href="#asset"><em>asset</em></a> and <a href="#miniyaml"><em>MiniYaml</em></a> files.</p>
<p>In most cases, OpenRA-based games will have a single &quot;mod.&quot;
Think of this in the context of the Tiberian Sun you could previously buy
that included the Firestorm expansion.
That would be a case of multiple &quot;mod&quot;s in a single game.</p>
<p>Note that &quot;mod&quot; is in quotes because you're actually working on <em>games</em>
but OpenRA's history is tied to the 1st generation
<a href="https://en.wikipedia.org/wiki/Westwood_Studios">Westwood Studios</a> RTSes (<a href="https://en.wikipedia.org/wiki/Command_%26_Conquer_(1995_video_game)">Tiberian Dawn</a>,
<a href="https://en.wikipedia.org/wiki/Command_%26_Conquer:_Red_Alert">Red Alert</a>, and <a href="https://en.wikipedia.org/wiki/Dune_2000">Dune 2000</a>) which were modified by
players so the term &quot;mod&quot; is used throughout the OpenRA codebase,
documentation, etc.</p>
<a class="header" href="#miniyaml" id="miniyaml"><h3>MiniYaml</h3></a>
<p>A custom file format used for many things in OpenRA.</p>
<p>These files are what the engine reads to, for example:</p>
<ul>
<li>determine which <a href="#mod">mod</a>(s) are installed</li>
<li>locate <a href="#asset">asset</a> files</li>
<li>determine stats for different unit/building/etc. types</li>
<li>build the UIs used in-game</li>
</ul>
<a class="header" href="#manifest" id="manifest"><h3>Manifest</h3></a>
<p>The <code>mod.yaml</code> <a href="#miniyaml"><em>MiniYaml</em></a> file in the root of each <a href="#mod">mod</a>.</p>
<p>This file is what declares a directory as a mod, it is required.</p>
<a class="header" href="#asset" id="asset"><h3>Asset</h3></a>
<p>This is a generic term that encompasses image files, audio files, container files (such as <code>.zip</code> or <code>.mix</code>), and basically anything else that isn't <a href="#miniyaml"><em>MiniYaml</em></a>.</p>
<a class="header" href="#actor" id="actor"><h3>Actor</h3></a>
<p>An actor is the <em>entity</em> part of the <a href="https://en.wikipedia.org/wiki/Entity_component_system"><em>entity-component-system</em></a>.</p>
<p>Technically, an actor is a collection of <a href="#trait"><em>trait</em></a>s.</p>
<p>In <a href="./miniyaml/example.html">the real-world example in chapter 2</a> you can see the actor <code>E1</code> defined with the following traits:</p>
<ul>
<li><code>Buildable</code></li>
<li><code>Valued</code></li>
<li><code>Tooltip</code></li>
</ul>
<p>Note that, for example, <code>Queue</code> (in that same example) <em>is not a trait</em>.
It is a property of the <code>Buildable</code> trait.</p>
<p><code>Inherits</code> technically isn't a trait, it is a MiniYaml mechanism that is explained in the chapter 2 link above.</p>
<a class="header" href="#traitinfo" id="traitinfo"><h3>TraitInfo</h3></a>
<p>Technically a trait info is the <em>component</em> part of the <a href="https://en.wikipedia.org/wiki/Entity_component_system"><em>entity-component-system</em></a> architecture.</p>
<p>The properties of a <em>TraitInfo</em> can be set in MiniYaml.</p>
<p>Look at the linked actor definition and <a href="https://github.com/OpenRA/OpenRA/blob/0b0b82bd/OpenRA.Mods.Common/Traits/Valued.cs">Valued.cs</a>'s <code>ValuedInfo</code> class together.</p>
<p>Do you see how <code>ValuedInfo</code> has a <code>Cost</code> property that is of type <code>int</code>?</p>
<p>Now back in the MiniYaml you'll find <code>Cost: 100</code>.</p>
<p>That node is read by the engine (via the <code>FieldLoader</code> class, which will be covered in a future chapter) and the <code>Cost</code> property of <code>ValuedInfo</code> is set to <code>100</code>.</p>
<a class="header" href="#trait" id="trait"><h3>Trait</h3></a>
<p>Conceptually a trait is simply a characteristic of an <a href="#actor"><em>actor</em></a>, such as</p>
<p><a href="https://github.com/OpenRA/OpenRA/blob/0b0b82bd/OpenRA.Mods.Common/Traits/Valued.cs">Valued.cs</a>, for example, contains two <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/classes"><code>class</code></a>es:</p>
<ul>
<li><code>ValuedInfo</code>
<ul>
<li>A <a href="#trait-info"><em>TraitInfo</em></a></li>
</ul>
</li>
<li><code>Valued</code>
<ul>
<li>A <em>Trait</em> implementation</li>
</ul>
</li>
</ul>
<p>Technically a trait is the <em>system</em> part of the <a href="https://en.wikipedia.org/wiki/Entity_component_system"><em>entity-component-system</em></a> architecture.</p>
<p>Systems holds state and, potentially, interacts with other systems.</p>
<a class="header" href="#armament" id="armament"><h3>Armament</h3></a>
<p>This is another word for &quot;weapon.&quot;</p>
<a class="header" href="#playing" id="playing"><h1>Playing</h1></a>
<p>PLACEHOLDER</p>
<a class="header" href="#installing-openra" id="installing-openra"><h1>Installing OpenRA</h1></a>
<a class="header" href="#modding" id="modding"><h1>Modding</h1></a>
<p>PLACEHOLDER</p>
<a class="header" href="#chapter-1-getting-started" id="chapter-1-getting-started"><h1>Chapter 1: Getting Started</h1></a>
<!--
TODO: Rewrite this chapter to use the SDK
-->
<a class="header" href="#chapter-goals" id="chapter-goals"><h2>Chapter Goals</h2></a>
<p>By the end of this chapter it is expected that you will:</p>
<ul>
<li>have a copy of OpenRA's source code on your machine</li>
<li>successfully run the included <em>Red Alert</em> mod</li>
</ul>
<a class="header" href="#steps" id="steps"><h2>Steps</h2></a>
<ol>
<li>
<p><a href="modding/getting-started/./cloning.html">Clone the source code</a></p>
</li>
<li>
<p><a href="modding/getting-started/./run-ra.html">Run the <em>Red Alert</em> mod</a></p>
</li>
<li>
<p>Celebrate!</p>
</li>
</ol>
<hr />
<p>You are now ready to read <a href="../miniyaml/index.html">the next chapter</a>!</p>
<a class="header" href="#step-1-clone-the-source-code" id="step-1-clone-the-source-code"><h1>Step 1: Clone The Source Code</h1></a>
<blockquote>
<p><strong>warning</strong> The commands listed here are for macOS and GNU/Linux users.
Windows-specific instructions need to be written into this book.</p>
</blockquote>
<!--
    TODO: Write Windows-specific instructions
-->
<ul>
<li>
<p>Go to <a href="https://github.com/OpenRA/OpenRA">the OpenRA engine's source code on GitHub</a></p>
</li>
<li>
<p>Click the green &quot;clone or download&quot; button</p>
<ul>
<li>If the modal has the text &quot;Clone with HTTPS&quot; now would be a good time to
<a href="https://help.github.com/en/articles/connecting-to-github-with-ssh">configure GitHub access via SSH</a>, then redo this step</li>
</ul>
</li>
<li>
<p>Copy the presented URI (which should be <code>git@github.com:OpenRA/OpenRA.git</code>)</p>
</li>
<li>
<p>Open your terminal and navigate to where you want OpenRA's source code to
live on your machine</p>
<ul>
<li>Learning exactly how to do this is out-of-scope for this book but the
internet has many resources (such as <a href="https://www.youtube.com/watch?v=oxuRxtrO2Ag">this YouTube video</a>)</li>
</ul>
</li>
<li>
<p>Clone the source to your machine</p>
</li>
</ul>
<pre><code>$ git clone git@github.com:OpenRA/OpenRA.git openra
</code></pre>
<ul>
<li>Verify that it was cloned successfully by <code>ls</code>-ing in the newly-created
<code>openra</code> directory</li>
</ul>
<pre><code>$ cd openra
$ ls
</code></pre>
<p>You should see the same file structure as <a href="https://github.com/OpenRA/OpenRA">on GitHub</a>.</p>
<hr />
<p>Assuming everything looks correct you are ready to
<a href="modding/getting-started/./run-ra.html">run the <em>Red Alert</em> mod</a>...</p>
<a class="header" href="#step-2-run-the-red-alert-mod" id="step-2-run-the-red-alert-mod"><h1>Step 2: Run The <em>Red Alert</em> Mod</h1></a>
<blockquote>
<p><strong>warning</strong> The commands listed here are for macOS and GNU/Linux users.
Windows-specific instructions need to be written into this book.</p>
</blockquote>
<!--
    TODO: Write Windows-specific instructions
-->
<ul>
<li>Still in the <code>openra</code> directory, launch the engine directly into the <em>Red
Alert</em> (<code>ra</code>) mod</li>
</ul>
<pre><code>$ ./laungame.sh Game.Mod=ra
</code></pre>
<a class="header" href="#installing-the-mods-assets-one-time-only" id="installing-the-mods-assets-one-time-only"><h2>Installing the mod's assets (one-time only)</h2></a>
<p>If this is your first time running the <code>ra</code> mod (which it probably will be,
unless you've done these steps previously) you will need the original game
assets (art, audio, etc.).</p>
<p>Fortunately, the engine has a mechanism for asset downloading &amp; installation
(defined by the <code>ModContent</code> node of the <em>mod's manifest</em> which we will cover
in a future chapter).</p>
<!--
    TODO: Link "future chapter" above to the yet-to-be-written chapter
          so the reader can get there quickly if that peaked their interest
-->
<p>Double-fortunately, the games <em>Tiberian Dawn</em>, <em>Red Alert</em>, and <em>Tiberian Sun</em>
were made freeware back in 2008 with the larger C&amp;C community now hosting the
original game assets.</p>
<p>The default mods each integrate with these file hosts so players can easily
install these now-freeware assets.</p>
<hr />
<p>When prompted (immediately upon attempting to launch the <code>ra</code> mod) click the
<em>Quick Install</em> button.</p>
<p><img src="./images/RedAlert_InstallContentPrompt.png" alt="Install Content Prompt" /></p>
<p>This may take a few minutes depending on your internet connection &amp; speed.</p>
<p><img src="./images/RedAlert_QuickInstallPackageProgress.png" alt="Quick Install Package" /></p>
<p>Once the content finishes installing the engine takes you directly to the main
menu of <em>Red Alert</em>.</p>
<p><img src="./images/RedAlert_MainMenu.png" alt="Red Alert Main Menu" /></p>
<p>Consider playing a few singleplayer skirmishes against some A.I. players to
reward yourself.</p>
<blockquote>
<p><strong>tip</strong> Quit the game entirely and change the <code>ra</code> portion
of the last command you ran in your terminal to another mod's ID (such as
<code>ts</code>) and see what happens</p>
</blockquote>
<hr />
<p>When you're satisfied with your skills on the battlefield (or if you decided
not to play any games right now) continue on to <a href="../miniyaml/index.html">the next chapter</a>
where we'll cover the <a href="modding/getting-started/../terminology.html#miniyaml"><em>MiniYaml</em></a> format.</p>
<a class="header" href="#chapter-2-miniyaml" id="chapter-2-miniyaml"><h1>Chapter 2: MiniYaml</h1></a>
<a class="header" href="#chapter-goals-1" id="chapter-goals-1"><h2>Chapter Goals</h2></a>
<p>By the end of this chapter it is expected that you will:</p>
<ul>
<li>understand the basic syntax of <a href="modding/miniyaml/../../terminology.html#miniyaml">miniyaml</a> files</li>
<li>have changed a value in a MiniYaml file and observed the effect in-game</li>
</ul>
<a class="header" href="#high-level-steps" id="high-level-steps"><h2>High-Level Steps</h2></a>
<ol>
<li>
<p><a href="modding/miniyaml/./syntax.html">Learn the MiniYaml Syntax Basics</a></p>
</li>
<li>
<p><a href="modding/miniyaml/./example.html">Understand A Real-World Example</a></p>
</li>
</ol>
<a class="header" href="#miniyaml-syntax-basics" id="miniyaml-syntax-basics"><h1>MiniYaml Syntax Basics</h1></a>
<ul>
<li>
<p>MiniYaml is a textual, line-oriented, indentation-driven format comprised of related nodes</p>
</li>
<li>
<p>Each line is a node</p>
</li>
<li>
<p>Nodes can be:</p>
<ul>
<li>key-only</li>
<li>key, value, and optionally a comment</li>
<li>comment-only</li>
<li>empty</li>
</ul>
</li>
<li>
<p>Node indentation is either 1-tab-per-level <strong>or</strong> 4-spaces-per-level</p>
<ul>
<li>Mixed indentation in a file is not permitted</li>
</ul>
</li>
<li>
<p>Comments start with <code>#</code> and span the remainder of the line</p>
<ul>
<li>There is currently no support for escaping <code>#</code> characters</li>
</ul>
</li>
</ul>
<a class="header" href="#example" id="example"><h2>Example</h2></a>
<pre><code class="language-yml">a-key

b-key:
    c-key: c-value
        d-key: # d-comment
    e-key: e-value # e-comment
</code></pre>
<p>All of these lines/nodes are <em>completely valid</em>.</p>
<ul>
<li><code>a-key</code> is key-only without a key-terminator (<code>:</code>)</li>
<li><code>b-key:</code> is key-only with a key-terminator</li>
<li><code>c-key: c-value</code> is indented 1 <em>level</em> (4 spaces) with a key and a value</li>
<li><code>d-key: # d-comment</code> is indented 2 <em>levels</em> (8 spaces) with a key and a comment</li>
<li><code>e-key: e-value # e-comment</code> is indented 1 <em>level</em> (4 spaces) with a key, value, and comment</li>
</ul>
<a class="header" href="#node-relationships" id="node-relationships"><h3>Node Relationships</h3></a>
<p>The first 2 (non-empty) nodes are <em>top-level</em> (not indented).</p>
<p>Top-level nodes <em>do not have parents</em>.</p>
<p>The <em>c</em> node is a child of <em>b</em> since it is after <em>b</em> and indented 1 <em>level</em>
further than <em>b</em>.</p>
<p>The <em>d</em> node is a child of <em>c</em> since it is after <em>c</em> and indented 1 <em>level</em>
further than <em>c</em>.</p>
<p>The <em>e</em> node is a child of <em>b</em>, making it a sibling of <em>c</em>, since it is after
<em>b</em> and indented 1 <em>level</em> further than <em>b</em>.</p>
<a class="header" href="#invalid-example" id="invalid-example"><h2>Invalid Example</h2></a>
<pre><code class="language-yml">    a-key

b-key:
        c-key:

d-key
                # e-comment
</code></pre>
<p>A few things are invalid here!</p>
<ul>
<li>
<p>The <em>a</em> node is indented so it must be a child of some node, but there is no
node above it with 1-less level of indentation so we can not determine
the parent</p>
</li>
<li>
<p>The <em>b</em> node is perfectly valid, when a node is not indented that indicates the
end of the previous node tree</p>
</li>
<li>
<p>The <em>c</em> node is too-far indented (8 spaces vs the expected 4) so the parent
cannot be determined</p>
</li>
<li>
<p>The <em>d</em> node is perfectly valid</p>
</li>
<li>
<p>The <em>e</em> node is perfectly valid as comment-only nodes are always valid</p>
</li>
</ul>
<!--
    TODO: Check that _e_ is actually accepted by the upstream/official parser
-->
<hr />
<p>Now that you understand the basics of MiniYaml syntax and relationships you can <a href="modding/miniyaml/./example.html">move on to a real-world example</a>.</p>
<a class="header" href="#a-real-world-miniyaml-example" id="a-real-world-miniyaml-example"><h1>A Real-World MiniYaml Example</h1></a>
<p>We'll use <a href="https://github.com/OpenRA/OpenRA/blob/0524a59b/mods/ra/rules/infantry.yaml#L69-L83">part of RA's <code>E1</code> definition in infantry.yaml</a>
as an example:</p>
<!--
TODO: Include & explain inherited node removal _somewhere_
-->
<pre><code class="language-yml">E1:
    Inherits: ^Soldier
    Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Buildable:
        Queue: Infantry
    Valued:
        Cost: 100
    Tooltip:
        Name: Rifle Infantry
</code></pre>
<p>Immediately, woah!  There is <em>a lot</em> going on here!</p>
<p>Let's break this down line-by-line.</p>
<p>This is going to be long but is important to understand.</p>
<a class="header" href="#line-by-line" id="line-by-line"><h2>Line-By-Line</h2></a>
<pre><code class="language-yml">E1:
</code></pre>
<p>This node is <em>top-level</em> so it does not have a parent.</p>
<p>Since this node does not have a parent it is defining a new MiniYaml <em>tree</em>
with an <em>id</em> of <code>E1</code>.</p>
<hr />
<pre><code class="language-yml">    Inherits: ^Soldier
</code></pre>
<p>This node <em>is indented 1 level more than <code>E1</code></em> so it is a child of the <code>E1</code> node.</p>
<p><code>Inherits</code> is a special key that indicates that <code>^Soldier</code>'s MiniYaml tree
should be inserted right where this node is (so this <code>Inherits: ^Solder</code> node
would be replaced with <code>^Soldier</code>'s tree), effectively merging the two trees.</p>
<p>Also note that <code>^</code> <em>is not special</em>, it is purely convention that indicates
the referenced node is a &quot;template&quot;, meaning it is only meant to be inherited
from, not used in any other way.</p>
<p>If that doesn't make sense now that is fine! We will come back to this in a
future chapter.</p>
<!--
    TODO: Verify that keys starting with `^` aren't given special treatment
-->
<hr />
<pre><code class="language-yml">    Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
</code></pre>
<p>Again we have an <code>Inherits</code> node but this key is a little different, it has:</p>
<ul>
<li>an <code>@</code> symbol</li>
<li>an identifier after the <code>@</code></li>
</ul>
<p>The key (pun intended) bit of information here is that MiniYaml trees <em>must
not</em> have the exact same key at the same indentation level.</p>
<p>The reason for that restriction is that MiniYaml keys are also hashmap
(typically called <em>Dictionary</em> in .NET) keys, so they must be unique.</p>
<p>The <code>@</code> allows us to have multiple of the same child node with a postfixed
identifier.</p>
<p>Later on you will see an example of this suffix being used.</p>
<!--
    TODO: When will we see `@suffix` being used?
-->
<hr />
<pre><code class="language-yml">    Buildable:
</code></pre>
<p>Nothing new is happening with this node.</p>
<p>It too is indented <em>1 level more than <code>E1</code></em> so is a child of <code>E1</code> and a sibling
of the two previous <code>Inherits</code> nodes.</p>
<hr />
<pre><code class="language-yml">        Queue: Infantry
</code></pre>
<p>Can you guess this node?</p>
<p>I'm sure you figured it out before you even got here!</p>
<p>It is a child of <code>Buildable</code>, <em>not <code>E1</code></em>, since it is indented 1 level further
than <code>Buildable</code>.</p>
<hr />
<p>At this point the remaining nodes from the example ought to be obvious.</p>
<blockquote>
<p><strong>tip</strong> If anything is confusing please reach out on <a href="https://discord.me/openra">Discord</a>!</p>
</blockquote>
<a class="header" href="#make-a-change--test-it" id="make-a-change--test-it"><h2>Make A Change &amp; Test It</h2></a>
<p>Change the <code>Cost</code> node's value (currently <code>100</code>) and see what effect that has
in-game.</p>
<p>You've just officially become a modder!</p>
<a class="header" href="#map-editor-101" id="map-editor-101"><h1>Map Editor 101</h1></a>
<a class="header" href="#map-scripting-101" id="map-scripting-101"><h1>Map Scripting 101</h1></a>
<a class="header" href="#campaign-creation" id="campaign-creation"><h1>Campaign Creation</h1></a>
<a class="header" href="#what-isnt-yet-possible" id="what-isnt-yet-possible"><h1>What Isn't Yet Possible</h1></a>
<a class="header" href="#utility" id="utility"><h1>Utility</h1></a>
<p><a href="https://github.com/OpenRA/OpenRA/wiki/Utility">See on GitHub</a></p>
<a class="header" href="#mod--map-linting" id="mod--map-linting"><h1>Mod &amp; Map Linting</h1></a>
<a class="header" href="#developing" id="developing"><h1>Developing</h1></a>
<p>PLACEHOLDER</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
